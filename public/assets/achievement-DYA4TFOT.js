var u=s=>{throw TypeError(s)};var b=(s,a,t)=>a.has(s)||u("Cannot "+t);var n=(s,a,t)=>(b(s,a,"read from private field"),t?t.call(s):a.get(s)),v=(s,a,t)=>a.has(s)?u("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,t),m=(s,a,t,i)=>(b(s,a,"write to private field"),i?i.call(s,t):a.set(s,t),t);var c,h;class w extends ui.view.CyberTheme.CyberAchievementUI{constructor(){super();v(this,c);v(this,h);this.btnBack.on(Laya.Event.CLICK,this,()=>$ui.switchView(UI.pages.MAIN));const t=Math.min(this.btnAchievement.fontSize,this.btnStatistics.fontSize),i=Math.max(this.btnAchievement.fontSize,this.btnStatistics.fontSize);m(this,c,{min:t,max:i}),this.btnStatistics.on(Laya.Event.CLICK,this,()=>this.switch("statistics")),this.btnAchievement.on(Laya.Event.CLICK,this,()=>this.switch("achievement")),this.btnRank.on(Laya.Event.CLICK,this,$$event,["message",["M_NoRank"]]),this.listAchievements.renderHandler=new Laya.Handler(this,this.onRenderAchievement),this.listAchievements.scrollBar.elasticDistance=150,this.on(Laya.Event.RESIZE,this,()=>{var o,r,l;this.boxPage.width=2*this.width,this.boxA.width=this.boxB.width=this.width,this.boxPage.x<0&&(this.boxPage.x=-this.width);const e=(l=(r=(o=this.listAchievements)==null?void 0:o._itemRender)==null?void 0:r.props)==null?void 0:l.width;if(e){const d=Math.max(Math.floor((this.width-65)/e),1);this.listAchievements.width=d*e+(d-1)*(this.listAchievements.spaceY||0)+30}})}init(){this.switch("statistics",0);const{statistics:t,achievements:i,PropertyTypes:e}=core;this.listAchievements.array=i,this.labRemakeTimes.text=t[e.TMS].value,this.labRemakeTimesJudge.text=t[e.TMS].judge,this.labAchievementCountJudge.color=$ui.common.grade[t[e.TMS].grade],this.labAchievementCount.text=t[e.CACHV].value,this.labAchievementCountJudge.text=t[e.CACHV].judge,this.labAchievementCountJudge.color=$ui.common.grade[t[e.CACHV].grade],this.labEventRate.text=parseInt(t[e.REVT].value*100)+"%",this.prgEventRate.value=t[e.REVT].value,this.labTalentRate.text=parseInt(t[e.RTLT].value*100)+"%",this.prgTalentRate.value=t[e.RTLT].value}switch(t,i=300){switch(n(this,h)&&n(this,h).forEach(e=>Laya.Tween.clear(e)),m(this,h,[]),t){case"statistics":i=-this.boxPage.x/this.width*i,n(this,h).push(Laya.Tween.to(this.boxPage,{x:0},i,Laya.Ease.backOut,Laya.Handler.create(this,()=>m(this,h,null))),Laya.Tween.to(this.btnStatistics,{fontSize:n(this,c).max,anchorX:.5,anchorY:1},i,Laya.Ease.backOut),Laya.Tween.to(this.btnAchievement,{fontSize:n(this,c).min,anchorX:.5,anchorY:1},i,Laya.Ease.backOut));break;case"achievement":i=(this.width+this.boxPage.x)/this.width*i,n(this,h).push(Laya.Tween.to(this.boxPage,{x:-this.width},i,Laya.Ease.backOut,Laya.Handler.create(this,()=>m(this,h,null))),Laya.Tween.to(this.btnStatistics,{fontSize:n(this,c).min,anchorX:.5,anchorY:1},i,Laya.Ease.backOut),Laya.Tween.to(this.btnAchievement,{fontSize:n(this,c).max,anchorX:.5,anchorY:1},i,Laya.Ease.backOut));break}}onRenderAchievement(t,i){const e=t.dataSource,o=t.getChildByName("name"),r=t.getChildByName("description"),l=t.getChildByName("completed"),d=t.getChildByName("uncomplete");e.isAchieved?(o.text=e.name,r.text=e.description,l.visible=!0,d.visible=!1):(o.text=e.hide?"???":e.name,r.text=e.hide?"???":e.description,l.visible=!1,d.visible=!0),t.colorFilter=$ui.gradeFilter(e.grade)}}c=new WeakMap,h=new WeakMap;export{w as default};
