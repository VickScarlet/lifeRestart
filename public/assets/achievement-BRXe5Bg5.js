class c extends ui.view.DefaultTheme.AchievementUI{constructor(){super(),this.btnBack.on(Laya.Event.CLICK,this,()=>$ui.switchView(UI.pages.MAIN)),this.btnRank.on(Laya.Event.CLICK,this,$$event,["message",["M_NoRank"]]),this.listAchievements.renderHandler=new Laya.Handler(this,this.onRenderAchievement),this.listAchievements.scrollBar.elasticDistance=150}init(){const{statistics:e,achievements:a,PropertyTypes:t}=core;this.listAchievements.array=a,this.labRemakeTimes.text=$_.format($lang.F_RemakeTimes,e[t.TMS].value),this.labRemakeTimesJudge.text=e[t.TMS].judge,$_.deepMapSet(this.boxRemakeTimes,$ui.common.achievement[e[t.TMS].grade]),this.labAchievementCount.text=$_.format($lang.F_AchievementCount,e[t.CACHV].value),this.labAchievementCountJudge.text=e[t.CACHV].judge,$_.deepMapSet(this.boxAchievementCount,$ui.common.achievement[e[t.CACHV].grade]),this.labEventRate.text=parseInt(e[t.REVT].value*100)+"%",this.prgEventRate.scaleX=e[t.REVT].value,$_.deepMapSet(this.boxEventRate,$ui.common.achievement[e[t.REVT].grade]),this.labTalentRate.text=parseInt(e[t.RTLT].value*100)+"%",this.prgTalentRate.scaleX=e[t.RTLT].value,$_.deepMapSet(this.boxTalentRate,$ui.common.achievement[e[t.RTLT].grade])}onRenderAchievement(e){const a=e.dataSource,t=e.getChildByName("name"),i=e.getChildByName("description"),n=e.getChildByName("boxMask");$_.deepMapSet(e,$ui.common.achievement[a.grade]),t.color=i.color=$ui.common.defaultFontColor,a.isAchieved?(t.text=a.name,i.text=a.description,n.visible=!1):(t.text=a.hide?"???":a.name,i.text=a.hide?"???":a.description,n.visible=!0)}}export{c as default};
